{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/e-complain-box/packages/frontend/src/components/Dashboard/Dashboard.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Grid, Tooltip } from '@mui/material';\nimport TodayRecord from './TodayRecord';\nimport { Fragment } from 'react';\nimport VerticalChart from './VerticalChart';\nimport PieChart from './PieChart';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport Loader from '../../Shared/common/Loader';\nimport \"./styles/Dashboard.css\";\nimport LoggedUserInfo from '../../Shared/common/LoggedUserInfo';\nimport DashboardTable from './DashboardTable';\nimport { getComplainGroupData } from '../../Shared/Api/api';\nimport DashboardCriticalComplain from \"./DashboardCriticalComplain\";\nimport Fab from '@mui/material/Fab';\nimport AddIcon from '@mui/icons-material/Add';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard(_ref) {\n  _s();\n\n  let {\n    auth\n  } = _ref;\n  const [totalData, setTotalData] = useState(null);\n  const [totalRasiedData, setTotalRasiedData] = useState([]);\n  const [totalInComplainData, setTotalInComplainData] = useState([]);\n  const [totalDoneData, setTotalDoneData] = useState([]);\n  const [totalBorderColor, setTotalBorderColod] = useState([]);\n  const [totalBackgroundColor, setTotalBackgroundColor] = useState([]);\n  const [dataChanged, setdataChanged] = useState(false);\n  const [totalDepartments, setTotalDepartments] = useState([]);\n  const [loaded, setLoaded] = React.useState(true);\n  let history = useHistory();\n  useEffect(() => {\n    const userId = localStorage.getItem(\"userID\");\n\n    if (userId) {\n      getComplainGroupData(userId).then(res => {\n        res.length && res.forEach(datas => {\n          let firstnumber = Math.floor(Math.random() * 256);\n          let secondnumber = Math.floor(Math.random() * 256);\n          let thirdnumber = Math.floor(Math.random() * 256);\n          let backgroundColor = `rgba(${firstnumber}, ${secondnumber}, ${thirdnumber}, 0.8)`;\n          let borderColor = `rgba(${firstnumber}, ${secondnumber}, ${thirdnumber}, 1)`;\n          setTotalRasiedData(totalRasiedData => [...totalRasiedData, datas.totalRaiseComplains]);\n          setTotalInComplainData(totalInComplainData => [...totalInComplainData, datas.totalWipComplains]);\n          setTotalDoneData(totalDoneData => [...totalDoneData, datas.totalCompletedComplains]);\n          setTotalBackgroundColor(totalBackgroundColor => [...totalBackgroundColor, backgroundColor]);\n          setTotalBorderColod(totalBorderColor => [...totalBorderColor, borderColor]);\n          setTotalDepartments(totalDepartments => [...totalDepartments, datas.DepartmentName ? datas.DepartmentName : datas.DepartmentNam]);\n        });\n        setTotalData(res);\n        setLoaded(false);\n      });\n    }\n  }, [setLoaded, setTotalData]);\n\n  const redirectTo = () => {\n    history.push('/raise');\n  };\n\n  const showTotalRaised = totalRasiedData.filter(numbers => numbers !== 0).reduce((sum, data) => {\n    return sum += data;\n  }, 0);\n  const showTotalInProgress = totalInComplainData.filter(numbers => numbers !== 0).reduce((sum, data) => {\n    return sum += data;\n  }, 0);\n  const showTotalDone = totalDoneData.filter(numbers => numbers !== 0).reduce((sum, data) => {\n    return sum += data;\n  }, 0);\n  console.log(totalData);\n  return loaded || !totalData ? /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    px: 12,\n    style: {\n      height: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 6\n  }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [auth.user ? /*#__PURE__*/_jsxDEV(LoggedUserInfo, {\n      auth: auth\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 14\n    }, this) : \"\", auth.user.UserRole === \"Complainant\" ? /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      mx: 8,\n      py: 2,\n      children: /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"Raise Complain\",\n        placement: \"left\",\n        children: /*#__PURE__*/_jsxDEV(Fab, {\n          color: \"primary\",\n          \"aria-label\": \"add\",\n          style: {\n            color: \"#fff\"\n          },\n          onClick: redirectTo,\n          children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 14\n    }, this) : \"\", /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      display: \"flex\",\n      alignItems: \"flex-start\",\n      mb: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        pl: {\n          xs: 2,\n          sm: 4,\n          md: 8\n        },\n        pr: {\n          xs: 2,\n          sm: 4,\n          md: 0\n        },\n        item: true,\n        md: 8,\n        children: [auth.user && (auth.user.UserRole === \"Department Employee\" || auth.user.UserRole === \"SuperAdmin\") ? /*#__PURE__*/_jsxDEV(DashboardCriticalComplain, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 116\n        }, this) : \"\", /*#__PURE__*/_jsxDEV(DashboardTable, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TodayRecord, {\n          showTotalRaised: showTotalRaised,\n          showTotalInProgress: showTotalInProgress,\n          showTotalDone: showTotalDone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(VerticalChart, {\n          totalRasiedData: totalRasiedData,\n          totalDepartments: totalDepartments,\n          totalInComplainData: totalInComplainData,\n          totalDoneData: totalDoneData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PieChart, {\n        totalRasiedData: totalRasiedData,\n        showTotalRaised: showTotalRaised,\n        showTotalInProgress: showTotalInProgress,\n        showTotalDone: showTotalDone,\n        totalInComplainData: totalInComplainData,\n        totalDoneData: totalDoneData,\n        totalBackgroundColor: totalBackgroundColor,\n        totalBorderColor: totalBorderColor,\n        totalDepartments: totalDepartments,\n        auth: auth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Dashboard, \"T8JzFwBB3vqDvwRlu3bAVl80s44=\", false, function () {\n  return [useHistory];\n});\n\n_c = Dashboard;\n\nconst mapStateToProps = state => ({\n  auth: state.auth\n});\n\nexport default connect(mapStateToProps)(Dashboard);\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/e-complain-box/packages/frontend/src/components/Dashboard/Dashboard.jsx"],"names":["React","useEffect","Grid","Tooltip","TodayRecord","Fragment","VerticalChart","PieChart","connect","useState","Loader","LoggedUserInfo","DashboardTable","getComplainGroupData","DashboardCriticalComplain","Fab","AddIcon","useHistory","Dashboard","auth","totalData","setTotalData","totalRasiedData","setTotalRasiedData","totalInComplainData","setTotalInComplainData","totalDoneData","setTotalDoneData","totalBorderColor","setTotalBorderColod","totalBackgroundColor","setTotalBackgroundColor","dataChanged","setdataChanged","totalDepartments","setTotalDepartments","loaded","setLoaded","history","userId","localStorage","getItem","then","res","length","forEach","datas","firstnumber","Math","floor","random","secondnumber","thirdnumber","backgroundColor","borderColor","totalRaiseComplains","totalWipComplains","totalCompletedComplains","DepartmentName","DepartmentNam","redirectTo","push","showTotalRaised","filter","numbers","reduce","sum","data","showTotalInProgress","showTotalDone","console","log","height","user","UserRole","color","xs","sm","md","mapStateToProps","state"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,eAA9B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAO,wBAAP;AACA,OAAOC,cAAP,MAA2B,oCAA3B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,oBAAT,QAAqC,sBAArC;AACA,OAAOC,yBAAP,MAAsC,6BAAtC;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,SAASC,UAAT,QAA2B,kBAA3B;;;AACA,SAASC,SAAT,OAA6B;AAAA;;AAAA,MAAV;AAAEC,IAAAA;AAAF,GAAU;AAC3B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAAC,IAAD,CAA1C;AACA,QAAM,CAACa,eAAD,EAAkBC,kBAAlB,IAAwCd,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACe,mBAAD,EAAsBC,sBAAtB,IAAgDhB,QAAQ,CAAC,EAAD,CAA9D;AACA,QAAM,CAACiB,aAAD,EAAgBC,gBAAhB,IAAoClB,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACmB,gBAAD,EAAmBC,mBAAnB,IAA0CpB,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACqB,oBAAD,EAAuBC,uBAAvB,IAAkDtB,QAAQ,CAAC,EAAD,CAAhE;AACA,QAAM,CAACuB,WAAD,EAAcC,cAAd,IAAgCxB,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAM,CAACyB,gBAAD,EAAmBC,mBAAnB,IAA0C1B,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAAC2B,MAAD,EAASC,SAAT,IAAsBrC,KAAK,CAACS,QAAN,CAAe,IAAf,CAA5B;AACA,MAAI6B,OAAO,GAAGrB,UAAU,EAAxB;AACAhB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMsC,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf;;AACA,QAAIF,MAAJ,EAAY;AACV1B,MAAAA,oBAAoB,CAAC0B,MAAD,CAApB,CAA6BG,IAA7B,CAAmCC,GAAD,IAAS;AACzCA,QAAAA,GAAG,CAACC,MAAJ,IAAcD,GAAG,CAACE,OAAJ,CAAYC,KAAK,IAAI;AACjC,cAAIC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,GAA3B,CAAlB;AACA,cAAIC,YAAY,GAAGH,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,GAA3B,CAAnB;AACA,cAAIE,WAAW,GAAGJ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,GAA3B,CAAlB;AACA,cAAIG,eAAe,GAAI,QAAON,WAAY,KAAII,YAAa,KAAIC,WAAY,QAA3E;AACA,cAAIE,WAAW,GAAI,QAAOP,WAAY,KAAII,YAAa,KAAIC,WAAY,MAAvE;AAEA7B,UAAAA,kBAAkB,CAAED,eAAD,IAAqB,CACtC,GAAGA,eADmC,EAEtCwB,KAAK,CAACS,mBAFgC,CAAtB,CAAlB;AAIA9B,UAAAA,sBAAsB,CAAED,mBAAD,IAAyB,CAC9C,GAAGA,mBAD2C,EAE9CsB,KAAK,CAACU,iBAFwC,CAA1B,CAAtB;AAIA7B,UAAAA,gBAAgB,CAAED,aAAD,IAAmB,CAClC,GAAGA,aAD+B,EAElCoB,KAAK,CAACW,uBAF4B,CAApB,CAAhB;AAIA1B,UAAAA,uBAAuB,CAAED,oBAAD,IAA0B,CAChD,GAAGA,oBAD6C,EAEhDuB,eAFgD,CAA3B,CAAvB;AAIAxB,UAAAA,mBAAmB,CAAED,gBAAD,IAAsB,CACxC,GAAGA,gBADqC,EAExC0B,WAFwC,CAAvB,CAAnB;AAIAnB,UAAAA,mBAAmB,CAAED,gBAAD,IAAsB,CACxC,GAAGA,gBADqC,EAExCY,KAAK,CAACY,cAAN,GAAuBZ,KAAK,CAACY,cAA7B,GAA8CZ,KAAK,CAACa,aAFZ,CAAvB,CAAnB;AAKD,SAhCa,CAAd;AAiCAtC,QAAAA,YAAY,CAACsB,GAAD,CAAZ;AACAN,QAAAA,SAAS,CAAC,KAAD,CAAT;AACD,OApCD;AAqCD;AAEF,GA1CQ,EA0CN,CAACA,SAAD,EAAYhB,YAAZ,CA1CM,CAAT;;AA2CA,QAAMuC,UAAU,GAAG,MAAM;AACvBtB,IAAAA,OAAO,CAACuB,IAAR,CAAa,QAAb;AACD,GAFD;;AAGA,QAAMC,eAAe,GAAGxC,eAAe,CAACyC,MAAhB,CAAuBC,OAAO,IAAIA,OAAO,KAAK,CAA9C,EAAiDC,MAAjD,CAAwD,CAACC,GAAD,EAAMC,IAAN,KAAe;AAC7F,WAAOD,GAAG,IAAIC,IAAd;AACD,GAFuB,EAErB,CAFqB,CAAxB;AAGA,QAAMC,mBAAmB,GAAG5C,mBAAmB,CAACuC,MAApB,CAA2BC,OAAO,IAAIA,OAAO,KAAK,CAAlD,EAAqDC,MAArD,CAA4D,CAACC,GAAD,EAAMC,IAAN,KAAe;AACrG,WAAOD,GAAG,IAAIC,IAAd;AACD,GAF2B,EAEzB,CAFyB,CAA5B;AAGA,QAAME,aAAa,GAAG3C,aAAa,CAACqC,MAAd,CAAqBC,OAAO,IAAIA,OAAO,KAAK,CAA5C,EAA+CC,MAA/C,CAAsD,CAACC,GAAD,EAAMC,IAAN,KAAe;AACzF,WAAOD,GAAG,IAAIC,IAAd;AACD,GAFqB,EAEnB,CAFmB,CAAtB;AAGAG,EAAAA,OAAO,CAACC,GAAR,CAAYnD,SAAZ;AACA,SAAOgB,MAAM,IAAI,CAAChB,SAAX,gBACJ,QAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,EAAE,EAAE,EAApB;AAAwB,IAAA,KAAK,EAAE;AAAEoD,MAAAA,MAAM,EAAE;AAAV,KAA/B;AAAA,2BACC,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADI,gBAIH,QAAC,QAAD;AAAA,eAGIrD,IAAI,CAACsD,IAAL,gBACG,QAAC,cAAD;AAAgB,MAAA,IAAI,EAAEtD;AAAtB;AAAA;AAAA;AAAA;AAAA,YADH,GAGE,EANN,EASIA,IAAI,CAACsD,IAAL,CAAUC,QAAV,KAAuB,aAAvB,gBACG,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAC,MAAxB;AAA+B,MAAA,cAAc,EAAC,UAA9C;AAAyD,MAAA,EAAE,EAAE,CAA7D;AAAgE,MAAA,EAAE,EAAE,CAApE;AAAA,6BACC,QAAC,OAAD;AAAS,QAAA,KAAK,EAAC,gBAAf;AAAgC,QAAA,SAAS,EAAC,MAA1C;AAAA,+BACE,QAAC,GAAD;AAAK,UAAA,KAAK,EAAC,SAAX;AAAqB,wBAAW,KAAhC;AAAsC,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAA7C;AAAgE,UAAA,OAAO,EAAEf,UAAzE;AAAA,iCACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADH,GASE,EAlBN,eAsBE,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAC,MAAxB;AAA+B,MAAA,UAAU,EAAC,YAA1C;AAAuD,MAAA,EAAE,EAAE,CAA3D;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,EAAE,EAAE;AAAEgB,UAAAA,EAAE,EAAE,CAAN;AAASC,UAAAA,EAAE,EAAE,CAAb;AAAgBC,UAAAA,EAAE,EAAE;AAApB,SAApB;AAA6C,QAAA,EAAE,EAAE;AAAEF,UAAAA,EAAE,EAAE,CAAN;AAASC,UAAAA,EAAE,EAAE,CAAb;AAAgBC,UAAAA,EAAE,EAAE;AAApB,SAAjD;AAA0E,QAAA,IAAI,MAA9E;AAA+E,QAAA,EAAE,EAAE,CAAnF;AAAA,mBAEG3D,IAAI,CAACsD,IAAL,KAActD,IAAI,CAACsD,IAAL,CAAUC,QAAV,KAAuB,qBAAvB,IAAgDvD,IAAI,CAACsD,IAAL,CAAUC,QAAV,KAAuB,YAArF,iBAAsG,QAAC,yBAAD;AAAA;AAAA;AAAA;AAAA,gBAAtG,GACG,EAHN,eAKE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,gBALF,eAME,QAAC,WAAD;AAAa,UAAA,eAAe,EAAEZ,eAA9B;AAA+C,UAAA,mBAAmB,EAAEM,mBAApE;AAAyF,UAAA,aAAa,EAAEC;AAAxG;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE,QAAC,aAAD;AACE,UAAA,eAAe,EAAE/C,eADnB;AAEE,UAAA,gBAAgB,EAAEY,gBAFpB;AAGE,UAAA,mBAAmB,EAAEV,mBAHvB;AAIE,UAAA,aAAa,EAAEE;AAJjB;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAeE,QAAC,QAAD;AAAU,QAAA,eAAe,EAAEJ,eAA3B;AACE,QAAA,eAAe,EAAEwC,eADnB;AAEE,QAAA,mBAAmB,EAAEM,mBAFvB;AAGE,QAAA,aAAa,EAAEC,aAHjB;AAIE,QAAA,mBAAmB,EAAE7C,mBAJvB;AAKE,QAAA,aAAa,EAAEE,aALjB;AAME,QAAA,oBAAoB,EAAEI,oBANxB;AAOE,QAAA,gBAAgB,EAAEF,gBAPpB;AAQE,QAAA,gBAAgB,EAAEM,gBARpB;AASE,QAAA,IAAI,EAAEf;AATR;AAAA;AAAA;AAAA;AAAA,cAfF;AAAA;AAAA;AAAA;AAAA;AAAA,YAtBF;AAAA;AAAA;AAAA;AAAA;AAAA,UAJJ;AAuDD;;GA1HQD,S;UAUOD,U;;;KAVPC,S;;AA2HT,MAAM6D,eAAe,GAAIC,KAAD,KAAY;AAClC7D,EAAAA,IAAI,EAAE6D,KAAK,CAAC7D;AADsB,CAAZ,CAAxB;;AAGA,eAAeX,OAAO,CAACuE,eAAD,CAAP,CAAyB7D,SAAzB,CAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport { Grid, Tooltip } from '@mui/material';\nimport TodayRecord from './TodayRecord';\nimport { Fragment } from 'react';\nimport VerticalChart from './VerticalChart';\nimport PieChart from './PieChart';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport Loader from '../../Shared/common/Loader';\nimport \"./styles/Dashboard.css\"\nimport LoggedUserInfo from '../../Shared/common/LoggedUserInfo';\nimport DashboardTable from './DashboardTable';\nimport { getComplainGroupData } from '../../Shared/Api/api';\nimport DashboardCriticalComplain from \"./DashboardCriticalComplain\"\nimport Fab from '@mui/material/Fab';\nimport AddIcon from '@mui/icons-material/Add';\nimport { useHistory } from \"react-router-dom\"\nfunction Dashboard({ auth }) {\n  const [totalData, setTotalData] = useState(null)\n  const [totalRasiedData, setTotalRasiedData] = useState([])\n  const [totalInComplainData, setTotalInComplainData] = useState([])\n  const [totalDoneData, setTotalDoneData] = useState([])\n  const [totalBorderColor, setTotalBorderColod] = useState([])\n  const [totalBackgroundColor, setTotalBackgroundColor] = useState([])\n  const [dataChanged, setdataChanged] = useState(false)\n  const [totalDepartments, setTotalDepartments] = useState([])\n  const [loaded, setLoaded] = React.useState(true);\n  let history = useHistory()\n  useEffect(() => {\n    const userId = localStorage.getItem(\"userID\")\n    if (userId) {\n      getComplainGroupData(userId).then((res) => {\n        res.length && res.forEach(datas => {\n          let firstnumber = Math.floor(Math.random() * 256);\n          let secondnumber = Math.floor(Math.random() * 256);\n          let thirdnumber = Math.floor(Math.random() * 256);\n          let backgroundColor = `rgba(${firstnumber}, ${secondnumber}, ${thirdnumber}, 0.8)`;\n          let borderColor = `rgba(${firstnumber}, ${secondnumber}, ${thirdnumber}, 1)`;\n\n          setTotalRasiedData((totalRasiedData) => [\n            ...totalRasiedData,\n            datas.totalRaiseComplains,\n          ]);\n          setTotalInComplainData((totalInComplainData) => [\n            ...totalInComplainData,\n            datas.totalWipComplains,\n          ]);\n          setTotalDoneData((totalDoneData) => [\n            ...totalDoneData,\n            datas.totalCompletedComplains,\n          ]);\n          setTotalBackgroundColor((totalBackgroundColor) => [\n            ...totalBackgroundColor,\n            backgroundColor,\n          ]);\n          setTotalBorderColod((totalBorderColor) => [\n            ...totalBorderColor,\n            borderColor,\n          ]);\n          setTotalDepartments((totalDepartments) => [\n            ...totalDepartments,\n            datas.DepartmentName ? datas.DepartmentName : datas.DepartmentNam,\n          ]);\n\n        })\n        setTotalData(res)\n        setLoaded(false)\n      })\n    }\n\n  }, [setLoaded, setTotalData]);\n  const redirectTo = () => {\n    history.push('/raise')\n  }\n  const showTotalRaised = totalRasiedData.filter(numbers => numbers !== 0).reduce((sum, data) => {\n    return sum += data\n  }, 0)\n  const showTotalInProgress = totalInComplainData.filter(numbers => numbers !== 0).reduce((sum, data) => {\n    return sum += data\n  }, 0)\n  const showTotalDone = totalDoneData.filter(numbers => numbers !== 0).reduce((sum, data) => {\n    return sum += data\n  }, 0)\n  console.log(totalData)\n  return loaded || !totalData ?\n    (<Grid container px={12} style={{ height: \"100%\" }}>\n      <Loader />\n    </Grid>) : (\n      <Fragment>\n\n        {\n          auth.user ?\n            (<LoggedUserInfo auth={auth} />)\n            :\n            \"\"\n        }\n        {\n          auth.user.UserRole === \"Complainant\" ?\n            (<Grid container display=\"flex\" justifyContent=\"flex-end\" mx={8} py={2} >\n              <Tooltip title=\"Raise Complain\" placement=\"left\">\n                <Fab color=\"primary\" aria-label=\"add\" style={{ color: \"#fff\" }} onClick={redirectTo}>\n                  <AddIcon />\n                </Fab>\n              </Tooltip>\n            </Grid>)\n            :\n            \"\"\n        }\n\n\n        <Grid container display=\"flex\" alignItems=\"flex-start\" mb={3}>\n          <Grid container pl={{ xs: 2, sm: 4, md: 8 }} pr={{ xs: 2, sm: 4, md: 0 }} item md={8}>\n\n            {auth.user && (auth.user.UserRole === \"Department Employee\" || auth.user.UserRole === \"SuperAdmin\") ? (<DashboardCriticalComplain />\n            ) : \"\"}\n\n            <DashboardTable />\n            <TodayRecord showTotalRaised={showTotalRaised} showTotalInProgress={showTotalInProgress} showTotalDone={showTotalDone} />\n            <VerticalChart\n              totalRasiedData={totalRasiedData}\n              totalDepartments={totalDepartments}\n              totalInComplainData={totalInComplainData}\n              totalDoneData={totalDoneData}\n            />\n          </Grid>\n          <PieChart totalRasiedData={totalRasiedData}\n            showTotalRaised={showTotalRaised}\n            showTotalInProgress={showTotalInProgress}\n            showTotalDone={showTotalDone}\n            totalInComplainData={totalInComplainData}\n            totalDoneData={totalDoneData}\n            totalBackgroundColor={totalBackgroundColor}\n            totalBorderColor={totalBorderColor}\n            totalDepartments={totalDepartments}\n            auth={auth}\n          />\n        </Grid>\n      </Fragment >\n    );\n}\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\nexport default connect(mapStateToProps)(Dashboard);"]},"metadata":{},"sourceType":"module"}